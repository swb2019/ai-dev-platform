name: Task Context Reminder

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  remind:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Ensure task context updated
        run: |
          if git diff --name-only origin/${{ github.base_ref }}...HEAD | grep -Eq '^config/task-context.json$|^docs/AGENT_HANDBOOK.md$'; then
            echo "Task context files modified in this PR."
          else
            echo "::warning::Reminder: ensure config/task-context.json and docs/AGENT_HANDBOOK.md reflect the latest plan. Include context output in the PR body."
          fi
